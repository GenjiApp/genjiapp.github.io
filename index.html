<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="init.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Murasaki - Simple EPUB Previewer</title>
  </head>
  <body>

    <header>
      <h1>Murasaki</h1>
      <h2>Simple EPUB Previewer</h2>
    </header>

    <ul id="languageSwicther">
      <li>日本語</li>
      <li><a href="./index_en.html">English</a></li>
    </ul>

    <nav>
      <ul>
        <li><a href="#description">概要</a></li>
        <li><a href="#download">ダウンロード</a></li>
        <li><a href="#integration">OS 標準機能との連携</a></li>
        <li><a href="#vertical">縦組みについて</a></li>
      </ul>
    </nav>

    <section id="description">
      <h1>概要</h1>
      <p>Murasaki はシンプルな EPUB 閲覧アプリケーションです。</p>
      <p>EPUB ファイルの閲覧、ナヴィゲーション構造の解析、メタデータの表示、文字列検索、ページのブックマークを行うことができます。</p>
      <dl>
        <dt>動作環境</dt>
        <dd>Mac OS X 10.6.6 以降</dd>
      </dl>
      <figure>
        <img src="img/Murasaki_main.png" />
        <figcaption>EPUB 表示例</figcaption>
      </figure>
    </section>

    <section id="download">
      <h1>ダウンロード</h1>
      <dl>
        <dt>2011年5月14日：<a href="http://itunes.apple.com/jp/app/murasaki/id430300762?mt=12">ver. 1.2 (Mac App Store)</a></dt>
        <dd>ブックマーク機能の追加</dd>
        <dd>キャッシュを利用した EPUB オープン速度の向上</dd>
        <dd>細かいバグの修正</dd>

        <dt>2011年4月21日：ver. 1.1.1</dt>
        <dd>印刷(PDF への変換)機能の追加(HTMLファイル単位)</dd>
        <dd>ツールバー項目のアイコン変更</dd>

        <dt>2011年4月3日：ver. 1.1</dt>
        <dd>検索機能の強化(&quot;次を検索&quot;、&quot;前を検索&quot;、&quot;選択部分を検索に使用&quot;の実装)</dd>
        <dd>サイドバー目次が HTML 単位の時のタイトル文字列に、NCX ファイルの navLabel 文字列を使うように変更</dd>
        <dd>HTML ファイルが特定の拡張子以外のときに開けなかった不具合を解消</dd>

        <dt>2011年3月1日：<a href="./releases/Murasaki_v1.0.2.zip">ver. 1.0.2</a></dt>
        <dd>ステータス領域の表示が乱れる問題を改善</dd>

        <dt>2011年2月28日：<a href="./releases/Murasaki_v1.0.1.zip">ver. 1.0.1</a></dt>
        <dd>日本語ローカライズ文字列の変換ミスを修正</dd>
        <dd>バックグラウンドスレッドを用いた EPUB の同時読み込みに対応</dd>
        <dd>ステータスバー領域を削除し、マウスカーソルがリンク文字列に乗っているときのみステータス領域が表示されるように変更</dd>

        <dt>2011年2月21日：<a href="./releases/Murasaki_v1.0.zip">ver. 1.0</a></dt>
        <dd>初期ヴァージョン</dd>
      </dl>
    </section>

    <article id="integration">
      <section>
        <h1>OS 標準機能との連携</h1>
        <p>Murasaki は Mac OS X 標準の Cocoa フレームワークを用いて作成されています。Cocoa アプリケーションだからこそ、OS 標準の様々な便利な機能と連携することが可能になります。</p>
      </section>

      <section>
        <h2>トラックパッドジェスチャ</h2>
        <p>Murasaki はトラックパッドジェスチャに対応しています。スワイプ操作による履歴の戻る・進むや、ピンチ操作による文字の拡大・縮小を行うことができます。</p>
      </section>

      <section>
        <h2>辞書ポップアップ</h2>
        <p>単語の上にマウスカーソルを持っていき Command + Control + D のキィボードショートカットを押すと、OS 付属の辞書での検索結果がポップアップ表示されます。</p>

        <figure>
          <img class="pieceOfImage" src="img/Murasaki_dictionary.png" />
          <figcaption>辞書ポップアップ</figcaption>
        </figure>

        <p>調べたい単語を範囲指定してから、コンテキストメニュー（右クリック or Control + クリック）の「辞書で調べる」を使うこともできます。</p>
      </section>

      <section>
        <h2>読み上げ</h2>
        <p>Murasaki は Mac OS X 標準のテキスト読み上げ機能に対応しています。残念ながら日本語は非対応ですが、英文ならば OS のテキスト読み上げ機能を使うことができます。</p>

        <figure>
          <img src="img/Murasaki_speech.png" />
          <figcaption>読み上げ</figcaption>
        </figure>

        <p>特定のセンテンス・単語を範囲指定してから、コンテキストメニュー（右クリック or Control + クリック）の「スピーチ」→「読み上げを開始」、もしくはメニューバーの「編集」→「スピーチ」→「読み上げを開始」で当該範囲の読み上げ、範囲指定せずにメニューバーの「編集」→「スピーチ」→「読み上げを開始」で表示しているページすべての読み上げが行えます。</p>
      </section>
    </article>

    <section id="vertical">
      <h1>縦組みについて</h1>
      <p>標準的な環境では EPUB は横組みで表示されます。しかし、<code>-webkit-writing-mode</code> が有効になっている WebKit Nightly を自分でビルドするか、ビルド済みの Nightly Build (以下 WebKit.app) をインストールすることで、Murasaki で EPUB の縦組み表示を試してみることができます。Murasaki で縦組み表示を行うには、ターミナルで以下のようなコマンドを実行し、<code>-webkit-writing-mode: vertical-rl;</code> 等を指定した EPUB を開いてください。</p>

      <pre><code>env DYLD_FRAMEWORK_PATH=/path/to/WebKitNightlyFrameworks \
open /Applications/Murasaki.app</code></pre>

      <p><code>/path/to/WebKitNightlyFrameworks</code> は WebKit Nightly のフレームワークのディレクトリィを指定してください。自分で WebKit Nightly をビルドした場合は <code>/path/to/WebKit/WebKitBuild/Debug</code>、WebKit.app をインストールした場合は <code>/Applications/WebKit.app/Contents/Frameworks/10.6</code> のようになります。</p>
      <p><a href="http://twitter.com/wastemobile">@wastemobile</a> 氏による、WebKit.app を用いて縦組み用に Murasaki を起動する <a href="http://twitter.com/wastemobile/status/42640783324614657">Automator Workflow</a>（thanks @wastemobile!）。</p>
      <p>Webkit Nightly の詳細は <a href="http://www.webkit.org/">http://www.webkit.org/</a> を参照してください。</p>

      <figure>
        <img src="img/Murasaki_vertical.png" />
        <figcaption>縦組み表示例 (EPUB は <a href="http://www.meadowy.org/~kawabata/branch/">http://www.meadowy.org/~kawabata/branch/</a> からダウンロードしたものを使用)</figcaption>
      </figure>
    </section>

    <footer>
      <address>
        Genji(<a href="http://twitter.com/genji_tw">@genji_tw</a>)
      </address>
    </footer>

  </body>
</html>
