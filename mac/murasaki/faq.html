<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../init.css" />
    <link rel="stylesheet" href="../../common.css" />
    <link rel="stylesheet" href="style.css" />
    <title>Murasaki FAQ</title>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-767076-9']);
      _gaq.push(['_trackPageview']);

      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>

  <body>

    <header>
      <nav>
        <ul>
          <li><a href="../../index.html">Genji App</a></li>
          <li><a href="./index.html">Murasaki</a></li>
          <li><a href="https://docs.google.com/spreadsheet/viewform?formkey=dHZLVGhBRnZUb1JTelcwUFN5X3o3V1E6MQ" target="_blank">Contact</a></li>
        </ul>

        <ul>
          <li>日本語</li>
          <li><a href="./faq_en.html">English</a></li>
        </ul>
      </nav>

      <hgroup>
        <h1>Murasaki</h1>
        <h2>FAQ of Murasaki</h2>
      </hgroup>
    </header>

    <ul>
      <li><a href="#applying_user_style">ユーザスタイルの適用</a></li>
      <li><a href="#cannot_open_sidebar">サイドバーが表示できない</a></li>
    </ul>

    <section id="applying_user_style">
      <h1>ユーザスタイルの適用</h1>
      <p>Murasaki のユーザスタイル機能には以下のふたつがあります。</p>

      <ul>
        <li>デフォルトユーザスタイル</li>
        <li>アドホックユーザスタイル</li>
      </ul>

      <h2>デフォルトユーザスタイル</h2>
      <p>デフォルトユーザスタイルの適用は環境設定から行います。</p>

      <ol>
        <li>メニューバーの「Murasaki」から「環境設定...」を選択して環境設定ウィンドウを開いてください</li>
        <li>環境設定ウィンドウのツールバーから「詳細」をクリックして詳細ペインを開いてください</li>
        <li>「デフォルトユーザスタイルシートを有効にする」チェックボタンにチェックを入れてください</li>
        <li>「選択」ボタンを押して適用したい CSS ファイルを選択して下さい</li>
      </ol>

      <p>デフォルトユーザスタイルを設定すると、EPUB を開くたびに自動的にスタイルが適用されます。</p>

      <h2>アドホックユーザスタイル</h2>
      <p>アドホックユーザスタイルの適用は「表示」メニューから行います。</p>

      <ol>
        <li>メニューバーの「表示」メニューから「ユーザスタイルシート」の「スタイルシートフォルダを開く」を選択してください</li>
        <li>Finder にフォルダが開かれるので、そこに CSS ファイルを配置してください</li>
        <li>メニューバーの「表示」メニューの「ユーザスタイルシート」にフォルダに配置した CSS が現れるので、適用したいスタイルを選択してください</li>
      </ol>

      <p>アドホックユーザスタイルは EPUB を開くたびに手順 3 でスタイルを選択し直す必要があります。</p>

      <h2>ユーザスタイルシート適用における注意</h2>
      <p>ユーザスタイルシートで設定するセレクタへのスタイルがすでに EPUB の CSS で設定されている場合、ユーザスタイルが上書きされてしまうことがあります。ユーザスタイルを確実に適用させるためには、以下のように <code>!important</code> 宣言を用いてください。</p>

      <pre><code>body { background-color: lightyellow <strong>!important</strong>; }
p { font-family: serif <strong>!important</strong>; font-size: 110% <strong>!important</strong>; }
img { width: 100% <strong>!important</strong>; }</code></pre>

    </section>

    <section id="cannot_open_sidebar">
      <h1>サイドバーが表示できない</h1>
      <p>メニューバーの「表示」→「サイドバーを表示」やツールバーの「サイドバー」をクリックしてもサイドバーが表示できない不具合が発生する場合があります。</p>
      <p>その場合は <code>~/Library/Preferences/jp.genji.Murasaki.plist</code> を削除して Murasaki を再起動してみてください。</p>
      <ol>
        <li>
          Finder のメニューバーから「移動」→「フォルダへ移動...」を選択<br />
          <img src="img/remove_plist01.png" />
        </li>
        <li>
          「フォルダの場所を入力」というダイアログが表示されるので <code>~/Library/Preferences</code> を入力して「移動」ボタンをクリック<br />
          <img src="img/remove_plist02.png" />
        </li>
        <li>
          移動先のフォルダから <code>jp.genji.Murasaki.plist</code> を探して削除<br />
          <img src="img/remove_plist03.png" />
        </li>
        <li>Murasaki を起動</li>
      </ol>
    </section>

  </body>
</html>
